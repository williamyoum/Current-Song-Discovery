(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(t,e,a){t.exports=a(17)},15:function(t,e,a){},16:function(t,e,a){},17:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),o=a(3),i=a.n(o),c=(a(15),a(4)),r=a(5),l=a(8),u=a(6),g=a(1),h=a(9),m=(a(16),a(7)),d=new(a.n(m).a),y=function(t){function e(t){var a;Object(c.a)(this,e);var n=(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).getHashParams();console.log(n);var s=n.access_token;return s&&d.setAccessToken(s),a.state={loggedIn:!!s,nowPlaying:{name:"Now Playing",albumArt:"",accessURI:""},audioFacts:{key:"",timeSignature:"",mode:"",tempo:" "},keyConversion:""},a.getAudioFacts=a.getAudioFacts.bind(Object(g.a)(a)),a}return Object(h.a)(e,t),Object(r.a)(e,[{key:"getHashParams",value:function(){var t,e={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);for(t=a.exec(n);t;)e[t[1]]=decodeURIComponent(t[2]),t=a.exec(n);return e}},{key:"getAudioFacts",value:function(){var t=this,e=this.state.nowPlaying.accessURI;d.getAudioFeaturesForTrack(e).then((function(e){t.setState({audioFacts:{song_key:e.key,song_timeSignature:e.time_signature,song_mode:e.mode,song_tempo:e.tempo}}),t.printKeyEasy(),t.printModeEasy()}),(function(t){console.error(t)}))}},{key:"getNowPlaying",value:function(){var t=this;d.getMyCurrentPlaybackState().then((function(e){t.setState({nowPlaying:{name:e.item.name,albumArt:e.item.album.images[0].url,accessURI:e.item.id}})}))}},{key:"printModeEasy",value:function(){0===this.state.audioFacts.song_key?this.setState({modeConversion:"Minor"}):this.setState({modeConversion:"Major"})}},{key:"printKeyEasy",value:function(){0===this.state.audioFacts.song_key&&this.setState({keyConversion:"C"}),1===this.state.audioFacts.song_key&&this.setState({keyConversion:"C#/Db"}),2===this.state.audioFacts.song_key&&this.setState({keyConversion:"D"}),3===this.state.audioFacts.song_key&&this.setState({keyConversion:"D#/Eb"}),4===this.state.audioFacts.song_key&&this.setState({keyConversion:"E"}),5===this.state.audioFacts.song_key&&this.setState({keyConversion:"F"}),6===this.state.audioFacts.song_key&&this.setState({keyConversion:"F#/Gb"}),7===this.state.audioFacts.song_key&&this.setState({keyConversion:"G"}),8===this.state.audioFacts.song_key&&this.setState({keyConversion:"G#/Ab"}),9===this.state.audioFacts.song_key&&this.setState({keyConversion:"A"}),10===this.state.audioFacts.song_key&&this.setState({keyConversion:"A#/Bb"}),11===this.state.audioFacts.song_key&&this.setState({keyConversion:"B"}),console.log("printed easy")}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"column"},s.a.createElement("header",null,"DISCOVER KEY, TIME SIGNATURE, MODE, TEMPO")),s.a.createElement("div",{className:"column"},s.a.createElement("div",null,s.a.createElement("a",{href:"http://localhost:3000"},s.a.createElement("img",{id:"logo",src:"https://www.freepnglogos.com/uploads/spotify-logo-png/spotify-icon-logo-transparent-vector-1.png",alt:"Spotify Logo"}))),s.a.createElement("a",{href:"http://localhost:4002"},s.a.createElement("button",{id:"button1"},"LOGIN TO SPOTIFY")),this.state.loggedIn&&s.a.createElement("button",{id:"button2",onClick:function(){return t.getNowPlaying()}},"CHECK CURRENT SONG"),this.state.loggedIn&&s.a.createElement("button",{id:"button3",onClick:function(){return t.getAudioFacts()}},"ANALYZE SONG"),s.a.createElement("div",null,this.state.nowPlaying.name),s.a.createElement("div",null,s.a.createElement("p",null,"Key: ",this.state.audioFacts.song_key," // ",this.state.keyConversion),s.a.createElement("p",null,"Time signature: ",this.state.audioFacts.song_timeSignature," / 4"),s.a.createElement("p",null,"Mode: ",this.state.audioFacts.song_mode," // ",this.state.modeConversion," "),s.a.createElement("p",null,"Tempo:  ",this.state.audioFacts.song_tempo," BPM")),s.a.createElement("div",null,s.a.createElement("img",{src:this.state.nowPlaying.albumArt,alt:"",style:{height:150,width:150}})))))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.ebdf4df2.chunk.js.map