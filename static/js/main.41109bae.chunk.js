(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),o=a(3),i=a.n(o),r=(a(15),a(4)),c=a(5),l=a(8),u=a(6),g=a(1),h=a(9),m=(a(16),a(7)),d=new(a.n(m).a),y=function(e){function t(e){var a;Object(r.a)(this,t);var s=(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getHashParams();console.log(s);var n=s.access_token;return n&&d.setAccessToken(n),a.state={loggedIn:!!n,nowPlaying:{name:"Now Playing...",albumArt:"",accessURI:""},audioFacts:{key:"",timeSignature:"",mode:"",tempo:" "},keyConversion:""},a.getAudioFacts=a.getAudioFacts.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getHashParams",value:function(){var e,t={},a=/([^&;=]+)=?([^&;]*)/g,s=window.location.hash.substring(1);for(e=a.exec(s);e;)t[e[1]]=decodeURIComponent(e[2]),e=a.exec(s);return t}},{key:"getAudioFacts",value:function(){var e=this,t=this.state.nowPlaying.accessURI;d.getAudioFeaturesForTrack(t).then((function(t){e.setState({audioFacts:{song_key:t.key,song_timeSignature:t.time_signature,song_mode:t.mode,song_tempo:t.tempo,song_energy:t.energy}}),e.printKeyEasy(),e.printModeEasy()}),(function(e){console.error(e)}))}},{key:"getNowPlaying",value:function(){var e=this;d.getMyCurrentPlaybackState().then((function(t){e.setState({nowPlaying:{name:t.item.name,albumArt:t.item.album.images[0].url,accessURI:t.item.id}})}))}},{key:"printModeEasy",value:function(){0===this.state.audioFacts.song_key?this.setState({modeConversion:"Minor"}):this.setState({modeConversion:"Major"})}},{key:"printKeyEasy",value:function(){0===this.state.audioFacts.song_key&&this.setState({keyConversion:"C"}),1===this.state.audioFacts.song_key&&this.setState({keyConversion:"C#/Db"}),2===this.state.audioFacts.song_key&&this.setState({keyConversion:"D"}),3===this.state.audioFacts.song_key&&this.setState({keyConversion:"D#/Eb"}),4===this.state.audioFacts.song_key&&this.setState({keyConversion:"E"}),5===this.state.audioFacts.song_key&&this.setState({keyConversion:"F"}),6===this.state.audioFacts.song_key&&this.setState({keyConversion:"F#/Gb"}),7===this.state.audioFacts.song_key&&this.setState({keyConversion:"G"}),8===this.state.audioFacts.song_key&&this.setState({keyConversion:"G#/Ab"}),9===this.state.audioFacts.song_key&&this.setState({keyConversion:"A"}),10===this.state.audioFacts.song_key&&this.setState({keyConversion:"A#/Bb"}),11===this.state.audioFacts.song_key&&this.setState({keyConversion:"B"}),console.log("printed easy")}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"column"},n.a.createElement("header",null,"DISCOVER KEY, TIME SIGNATURE, MODE, TEMPO, ENERGY")),n.a.createElement("div",{className:"column"},n.a.createElement("div",null,n.a.createElement("a",{href:"http://localhost:4002/"},n.a.createElement("img",{id:"logo",src:"https://www.freepnglogos.com/uploads/spotify-logo-png/spotify-icon-logo-transparent-vector-1.png",alt:"Spotify Logo"}))),n.a.createElement("a",{href:"http://localhost:4002"},n.a.createElement("button",{id:"button1"},"LOGIN TO SPOTIFY")),this.state.loggedIn&&n.a.createElement("button",{id:"button2",onClick:function(){return e.getNowPlaying()}},"WHAT'S PLAYING?"),this.state.loggedIn&&n.a.createElement("button",{id:"button3",onClick:function(){return e.getAudioFacts()}},"ANALYZE SONG"),n.a.createElement("div",{class:"nowPlaying"},n.a.createElement("p",null,this.state.nowPlaying.name)),n.a.createElement("div",null,n.a.createElement("p",{class:"answers"},"KEY: ",this.state.audioFacts.song_key," // ",this.state.keyConversion),n.a.createElement("p",{class:"answers"},"Time signature: ",this.state.audioFacts.song_timeSignature," / 4"),n.a.createElement("p",{class:"answers"},"Mode: ",this.state.audioFacts.song_mode," // ",this.state.modeConversion," "),n.a.createElement("p",{class:"answers"},"Tempo:  ",this.state.audioFacts.song_tempo," BPM"),n.a.createElement("p",{class:"answers"},"Energy:  ",this.state.audioFacts.song_energy," ")),n.a.createElement("div",null,n.a.createElement("img",{src:this.state.nowPlaying.albumArt,alt:"",style:{height:400,width:400}})))))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.41109bae.chunk.js.map